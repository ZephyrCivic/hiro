# Plans.md

## このファイルの役割
- このファイルは、このプロジェクトにおける「計画とタスク管理のマスタ」です。
- 作業は原則として、このファイルに書かれたタスク（チェックボックス）を軸に進めます。
- タスクが完了したら、該当行のチェックボックスを `[ ]` から `[x]` に更新し、必要に応じて簡単なメモやリンクを追記します。

## 使い方ルール
- タスクは Markdown のチェックリスト形式で管理します。
  - 例: `- [ ] GTFS データの前処理フローを検討する`
  - 完了時: `- [x] GTFS データの前処理フローを検討する`
- 新しい作業を始める前に:
  - 既存のタスク一覧を確認し、対象タスクを 1 つ以上選ぶ。
  - 必要であればタスクをより小さく分割してから着手する。
- 作業が終わったら:
  - 該当タスクのチェックボックスを `[x]` に変更する。
  - 部分的に完了した場合は、サブタスクとして行を分割し、完了／未完了を明示する。

## Backlog（未着手）
<!-- ここに `- [ ] ...` 形式で未着手タスクを追加してください -->

### フェーズ1: GTFS＋バス停の全可視化（停留所クリックで広電＋その他の時刻表表示）
- [x] フェーズ1の要件を確認する（`docs/requirements/phase1-gtfs-map.md` を読み、主要な前提（広電判定・停留所統合・平日ダイヤ・表示列）を利用者とすり合わせる）
- [ ] 開発環境の初期セットアップ（TypeScript + React + 地図ライブラリの雛形を `hiro` リポジトリに作成する）
- [ ] GTFS ZIP（`gtfs/`）を読み込み、停留所・便（trip）・事業者を表現する最小限のデータモデルを設計する
- [ ] 単一事業者の GTFS から全バス停を地図上にプロットし、基本的な表示ができるようにする
- [ ] 複数事業者（広電＋その他）の GTFS を統合し、重複停留所をマージした上で地図上に全バス停を可視化する
- [ ] 任意の停留所をクリックした際に、その停留所を通過する「広電」と「その他事業者」の便を 1 つのテーブルとして時刻順に表示する
- [ ] 時刻表表示画面で、事業者フィルタ（広電のみ／その他のみ／全社）を切り替えられるようにする
- [ ] フェーズ1で実装した機能の簡易動作確認（サンプル停留所での目視確認）と README への反映（スクリーンショットや説明の追加）を行う

### フェーズ2: 任意バス停の配布時刻表作成（印刷・配布向け）
- [x] フェーズ2の要件を確認する（`docs/requirements/phase2-stop-timetable.md` を読み、主要な前提（A4縦・片面／フォント目安／全便掲載）を利用者とすり合わせる）
- [ ] 配布時刻表のレイアウト要件（用紙サイズ、フォントサイズ、色分けなど）を README／別ドキュメントに整理する
- [ ] 任意のバス停を選択し、その停留所向けの「配布時刻表プレビュー」画面を Web アプリ上に用意する
- [ ] プレビュー画面で、広電／その他事業者を色分けした表形式のレイアウトを実装する（高齢者にも読みやすいフォントサイズを意識する）
- [ ] プレビューから印刷または PDF 出力に適したスタイル（印刷用 CSS 等）を整える
- [ ] 少なくとも 1 つの停留所について、実際の配布時刻表に近い PDF／印刷結果を確認し、想定ユーザーとすり合わせる


## In progress（進行中）
<!-- 現在取り組んでいるタスクを `Backlog` から移動し、必要ならさらに分割して使います -->

## Done（完了）
<!-- 完了したタスクを `In progress` から移し、`[x]` にしたものを残しておきます -->
- [x] README の「技術スタック（案）」と GitHub Pages による静的ホスティング前提を踏まえ、このリポジトリの v0 技術スタック方針（静的 Web フロントエンド中心）を AGENTS.md に反映する

## 備考
- フェーズ3（案）: 任意地点を基準として、路線バスを利用した到達圏域を可視化する機能（到達圏計算）を検討する。実装に着手する段階で、必要なタスクを Backlog に追加する。
